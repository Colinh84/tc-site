(function(e){e.fn.Selectyze=function(t){var r={theme:"css3",effectOpen:"slide",effectClose:"slide",preventClose:false};if(this.length)return this.each(function(){function l(t){if(t.has("optgroup").length){t.find("optgroup").each(function(t,n){f+='<li><span class="optgroupTitle">'+e(this).attr("label")+"</span><ul>";e(this).children().each(function(t,n){f+='<li><a rel="'+e(this).val()+'" href="#">'+e(this).text()+"</a></li>"});f+="</ul></li>"})}else{t.find("option").each(function(t,n){f+='<li><a rel="'+e(this).val()+'" href="#">'+e(this).text()+"</a></li>"})}}function c(e){switch(i.effectOpen){case"slide":if(!e.is(":hidden"))e.stop(true,true).slideUp("fast");else e.stop(true,true).slideDown("fast");break;case"fade":if(!e.is(":hidden"))e.stop(true,true).fadeOut("fast");else e.stop(true,true).fadeIn("fast");break;default:if(!e.is(":hidden"))e.stop(true,true).hide();else e.stop(true,true).show()}}function h(e){switch(i.effectClose){case"slide":e.stop(true,true).slideUp("fast");break;case"fade":e.stop(true,true).fadeOut("fast");break;default:e.hide()}}var i=e.extend(r,t),s=e(this),o=s.find("option").filter(":selected"),u=e("<div>",{"class":"DivSelectyze "+i.theme+""}),a=e("<ul>",{"class":"UlSelectize"}),f="";zIndex=9999;l(s);s.hide();s.after(u);u.html('<a href="#" rel="'+o.val()+'" class="selectyzeValue">'+o.text()+"</a>");a.appendTo(u).html(f);e(".DivSelectyze").each(function(t,n){e(this).css("z-index",zIndex);zIndex-=10});n=false;u.mouseenter(function(){n=false}).mouseleave(function(){n=true});u.find("a.selectyzeValue").click(function(t){t.preventDefault();h(e("ul.UlSelectize").not(e(this).next()));c(e(this).next("ul.UlSelectize"))});a.find("a").click(function(t){t.preventDefault();u.find("a.selectyzeValue").text(e(this).text());s.val(e(this).attr("rel"));s.trigger("change");if(!i.preventClose){h(s.next().find(".UlSelectize"))}});e(document).click(function(t){if(n)h(e(".UlSelectize").not(":hidden"))})})}})(jQuery)